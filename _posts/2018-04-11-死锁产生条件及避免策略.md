---
layout: post
title: "死锁产生条件及避免策略"
date: 2018-04-11
description: "死锁产生条件及避免策略"
tag: 系统
---

**1. 死锁发生：**

资源A、B，进程C、D描述如下： 　　

> 资源A和资源B，都是不可剥夺资源;
> 现在进程C已经申请了资源A，进程D也申请了资源B;
> 进程C接下来的操作需要用到资源B，而进程D恰好也在申请资源A;
> 进程C、D都得不到接下来的资源，那么就引发了死锁。

**2. 死锁的四个必要条件:**

> 互斥条件（Mutual exclusion）：资源不能被共享，只能由一个进程使用。
> 请求与保持条件（Hold and wait）：已经得到资源的进程可以再次申请新的资源。  
> 不可剥夺条件（No pre-emption）：已经分配的资源不能从相应的进程中被强制地剥夺。  
> 环路条件/循环等待条件（Circular wait）：系统中若干进程组成环路，该环路中每个进程都在等待相邻进程正占用的资源。

**3. 避免死锁的策略**

1) 死锁预防：

>  预先静态分配法：破坏了“不可剥夺条件”
>  资源有序分配法：破坏了“环路条件”

2）死锁避免：设法破坏4个必要条件之一，严格防止死锁的发生

>  银行家算法：若发现分配资源后进入不安全状态，则不予分配；若扔处于安全状态，则实施分配。

3）死锁检测：

>  允许死锁产生，定时地运行一个死锁检测程序，判断系统是否发生死锁。

4）死锁解除：

>    资源剥夺法
>
> 撤销进程法
